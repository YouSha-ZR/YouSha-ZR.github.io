(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{355:function(a,t,n){"use strict";n.r(t);var s=n(42),e=Object(s.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h2",{attrs:{id:"远程机上部署项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#远程机上部署项目"}},[a._v("#")]),a._v(" 远程机上部署项目")]),a._v(" "),n("p",[a._v("对这几天的远程部署做一下总结：")]),a._v(" "),n("h3",{attrs:{id:"_1、安装环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装环境"}},[a._v("#")]),a._v(" 1、安装环境")]),a._v(" "),n("h4",{attrs:{id:"_1-1、安装nginx"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1、安装nginx"}},[a._v("#")]),a._v(" 1.1、安装nginx")]),a._v(" "),n("p",[a._v("  由于之前的项目已经安装了nginx，所以就只在nginx多加了一个配置文件，重启，需要注意的是，这里使用  ./nginx -s reload 完全不起作用，导致我后面折腾了半天。最后使用kill命令杀死进程，重新启动就ok"),n("br"),a._v(" "),n("img",{attrs:{src:"https://hg-tian-guangzhou.oss-cn-shenzhen.aliyuncs.com/docblog/%E8%BF%9C%E7%A8%8B%E9%83%A8%E7%BD%B2/05.png",alt:"RUNOOB 05"}})]),a._v(" "),n("h4",{attrs:{id:"_1-2、安装redis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2、安装redis"}},[a._v("#")]),a._v(" 1.2、安装redis")]),a._v(" "),n("p",[a._v("虽然redis之前的项目也有安装过，但是对方要求需要新装一个，所以就老老实实的新装了一个，新装一个就要改端口，开放端口。然后带着配置文件启动就ok")]),a._v(" "),n("h4",{attrs:{id:"_1-3、安装jdk"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3、安装jdk"}},[a._v("#")]),a._v(" 1.3、安装jdk")]),a._v(" "),n("p",[a._v("这个是最坑的，由于之前项目版本的jdk是1.7 而我们项目所用的是1.8，启动直接报错")]),a._v(" "),n("p",[a._v("报错：")]),a._v(" "),n("div",{staticClass:"language-shell script extra-class"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[a._v("SEVERE: ContainerBase.addChild: start: \norg.apache.catalina.LifecycleException: Failed to start component "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("StandardEngine"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Catalina"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(".StandardHost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(".StandardContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("/onecardservice"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\tat org.apache.catalina.util.LifecycleBase.start"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("LifecycleBase.java:162"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.core.ContainerBase.addChildInternal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ContainerBase.java:899"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.core.ContainerBase.addChild"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ContainerBase.java:875"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.core.StandardHost.addChild"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("StandardHost.java:652"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.startup.HostConfig.deployDirectory"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("HostConfig.java:1296"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.startup.HostConfig"),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DeployDirectory")]),a._v(".run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("HostConfig.java:2038"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.util.concurrent.Executors"),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$RunnableAdapter")]),a._v(".call"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Executors.java:471"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.util.concurrent.FutureTask"),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$Sync")]),a._v(".innerRun"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("FutureTask.java:334"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.util.concurrent.FutureTask.run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("FutureTask.java:166"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ThreadPoolExecutor.java:1110"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.util.concurrent.ThreadPoolExecutor"),n("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$Worker")]),a._v(".run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ThreadPoolExecutor.java:603"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.lang.Thread.run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Thread.java:722"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nCaused by: java.lang.UnsupportedClassVersionError: org/springframework/web/SpringServletContainerInitializer "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),a._v(" Unsupported major.minor version "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("52.0")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("unable to load class org.springframework.web.SpringServletContainerInitializer"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("WebappClassLoaderBase.java:3209"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("WebappClassLoaderBase.java:1373"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("WebappClassLoaderBase.java:1861"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("WebappClassLoaderBase.java:1735"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.lang.Class.forName0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Native Method"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat java.lang.Class.forName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Class.java:264"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.startup.WebappServiceLoader.loadServices"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("WebappServiceLoader.java:197"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.startup.WebappServiceLoader.load"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("WebappServiceLoader.java:158"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.startup.ContextConfig.processServletContainerInitializers"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ContextConfig.java:1579"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.startup.ContextConfig.webConfig"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ContextConfig.java:1280"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.startup.ContextConfig.configureStart"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ContextConfig.java:888"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.startup.ContextConfig.lifecycleEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ContextConfig.java:388"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("LifecycleSupport.java:117"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("LifecycleBase.java:90"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.core.StandardContext.startInternal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("StandardContext.java:5522"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\tat org.apache.catalina.util.LifecycleBase.start"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("LifecycleBase.java:145"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("11")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("more")]),a._v("\n")])])]),n("p",[a._v("百度了一大推：按照这个解决了，感谢。"),n("br"),a._v(" "),n("img",{attrs:{src:"https://hg-tian-guangzhou.oss-cn-shenzhen.aliyuncs.com/docblog/%E8%BF%9C%E7%A8%8B%E9%83%A8%E7%BD%B2/04.png",alt:"04"}})]),a._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/qq_37880968/article/details/80406551?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://blog.csdn.net/qq_37880968/article/details/80406551?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase"),n("OutboundLink")],1)]),a._v(" "),n("p",[a._v("最后由于有一个springboot工程："),n("br"),a._v("\nLinux下指定JDK版本启动springboot程序的脚本"),n("br"),a._v(" "),n("a",{attrs:{href:"https://blog.csdn.net/liuxinzhi1982/article/details/99588403",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://blog.csdn.net/liuxinzhi1982/article/details/99588403"),n("OutboundLink")],1)]),a._v(" "),n("h4",{attrs:{id:"_1-4、安装tomcat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-4、安装tomcat"}},[a._v("#")]),a._v(" 1.4、安装tomcat")]),a._v(" "),n("p",[a._v("直接按文件夹拖进来就OK了，注意修改端口不要冲突。"),n("br"),a._v("\n配置文件里需要修改的地方有三个！！！"),n("br"),a._v(" "),n("img",{attrs:{src:"https://hg-tian-guangzhou.oss-cn-shenzhen.aliyuncs.com/docblog/%E8%BF%9C%E7%A8%8B%E9%83%A8%E7%BD%B2/03.jpg",alt:"03"}}),n("br"),a._v(" "),n("img",{attrs:{src:"https://hg-tian-guangzhou.oss-cn-shenzhen.aliyuncs.com/docblog/%E8%BF%9C%E7%A8%8B%E9%83%A8%E7%BD%B2/02.jpg",alt:"02"}}),n("br"),a._v(" "),n("img",{attrs:{src:"https://hg-tian-guangzhou.oss-cn-shenzhen.aliyuncs.com/docblog/%E8%BF%9C%E7%A8%8B%E9%83%A8%E7%BD%B2/01.jpg",alt:"01"}}),n("br"),a._v("\n修改后就可以启动了")]),a._v(" "),n("h4",{attrs:{id:"_1-5-、更坑的。。。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-、更坑的。。。"}},[a._v("#")]),a._v(" 1.5 、更坑的。。。")]),a._v(" "),n("p",[a._v("oracle版本不一样。。。"),n("br"),a._v(" "),n("img",{attrs:{src:"https://hg-tian-guangzhou.oss-cn-shenzhen.aliyuncs.com/docblog/%E8%BF%9C%E7%A8%8B%E9%83%A8%E7%BD%B2/06.png",alt:"06"}})]),a._v(" "),n("p",[a._v("解决办法：")]),a._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("-- 因为wm_concat在旧版本中不认识编译不了。需要加一个to_char")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("-- 修改前")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("select")]),a._v(" wm_concat"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("-- 修改后")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("select")]),a._v(" to_char"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("wm_concat"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("r"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),n("hr"),a._v(" "),n("p",{attrs:{align:"right"}},[a._v("发表日期：2020年6月29日20:15:19")])])}),[],!1,null,null,null);t.default=e.exports}}]);